# 20260128-보안그룹-디커플링-및-하이브리드-전략-도입

## 1. 개요
RKE2 클러스터와 DB/Harbor 간의 강한 결합(Tight Coupling)으로 인한 인프라 파괴 지연 및 관리 복잡성을 해결하기 위해 하이브리드 보안 전략을 도입함.

## 2. 주요 작업 내용
- **정적 SG 신설**: `10-security` 스택에 `k8s-client` 보안 그룹을 추가하여 K8s 노드의 논리적 신원을 고정함.
- **하이브리드 접근 제어**: DB/Harbor의 인바운드 규칙을 "정적 SG ID + 서브넷 CIDR" 조합으로 변경하여 클러스터 재배포 시에도 설정 변경이 필요 없도록 개선.
- **의존성 해소**: 스택 간 실시간 리소스 참조를 제거하여 `DependencyViolation` 에러를 원천 차단함.

## 3. 결과 및 가치
- 인프라 파괴(`destroy`) 시 보안 그룹 삭제 대기 시간을 6분에서 10초 이내로 단축.
- 클러스터 생명주기와 독립적인 영구 보안 데이터베이스 통신 환경 구축.
