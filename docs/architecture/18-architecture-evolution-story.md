# í”Œë«í¼ ì•„í‚¤í…ì²˜ ì§„í™” ìŠ¤í† ë¦¬ â€” RKE2 ì±„íƒë¶€í„° Ciliumê¹Œì§€

**ì‘ì„±ì¼**: 2026-02-09  
**ìš©ë„**: ë‚´ë¶€ ì„¸ë¯¸ë‚˜ / ê¸°ìˆ  ì „íŒŒ  
**ëŒ€ìƒ**: í”Œë«í¼ ì—”ì§€ë‹ˆì–´, DevOps, ì•„í‚¤í…íŠ¸

> ì´ ë¬¸ì„œëŠ” ìš°ë¦¬ í”Œë«í¼ ì¸í”„ë¼ê°€ **ì™œ ì´ëŸ° êµ¬ì¡°ê°€ ë˜ì—ˆëŠ”ê°€**ë¥¼ ì‹œê°„ìˆœìœ¼ë¡œ ê¸°ìˆ í•©ë‹ˆë‹¤.  
> ê° ì˜ì‚¬ê²°ì •ì˜ ë°°ê²½, ë¶€ë”ªíŒ í•œê³„, ëŒ€ì•ˆ ê²€í† , ìµœì¢… ì„ íƒì˜ ì´ìœ ë¥¼ ìŠ¤í† ë¦¬ í˜•íƒœë¡œ ì •ë¦¬í•©ë‹ˆë‹¤.

---

## ëª©ì°¨

1. [ì™œ RKE2ì¸ê°€ â€” ì¶œë°œì ](#1-ì™œ-rke2ì¸ê°€--ì¶œë°œì )
2. [ì´ˆê¸° ì•„í‚¤í…ì²˜ì˜ í•œê³„ â€” Cloud Agnosticì˜ ëŒ€ê°€](#2-ì´ˆê¸°-ì•„í‚¤í…ì²˜ì˜-í•œê³„--cloud-agnosticì˜-ëŒ€ê°€)
3. [CCM ë„ì… ê²°ì • â€” K8sì™€ AWSë¥¼ ì—°ê²°í•˜ëŠ” ë‹¤ë¦¬](#3-ccm-ë„ì…-ê²°ì •--k8sì™€-awsë¥¼-ì—°ê²°í•˜ëŠ”-ë‹¤ë¦¬)
4. [CCM ë„ì…ì˜ ë‚œê´€ â€” ë‹­ê³¼ ë‹¬ê±€ ë¬¸ì œ](#4-ccm-ë„ì…ì˜-ë‚œê´€--ë‹­ê³¼-ë‹¬ê±€-ë¬¸ì œ)
5. [CCMì˜ êµ¬ì¡°ì  ë¬¸ì œ â€” "ë²„ê·¸"ì˜ ì§„ì§œ ì›ì¸](#5-ccmì˜-êµ¬ì¡°ì -ë¬¸ì œ--ë²„ê·¸ì˜-ì§„ì§œ-ì›ì¸)
6. [ALBC + IP Mode ì‹œë„ â€” ê·¸ë¦¬ê³  ë‘ ë²ˆì§¸ ë²½](#6-albc--ip-mode-ì‹œë„--ê·¸ë¦¬ê³ -ë‘-ë²ˆì§¸-ë²½)
7. [Keycloak Â· Vault Â· Cilium â€” ê·¼ë³¸ í•´ê²°](#7-keycloak--vault--cilium--ê·¼ë³¸-í•´ê²°)
8. [ìµœì¢… ì•„í‚¤í…ì²˜ â€” 3-Layer Identity Stack](#8-ìµœì¢…-ì•„í‚¤í…ì²˜--3-layer-identity-stack)
9. [í•µì‹¬ êµí›ˆ](#9-í•µì‹¬-êµí›ˆ)

---

## 1. ì™œ RKE2ì¸ê°€ â€” ì¶œë°œì 

ìš°ë¦¬ í”Œë«í¼ì€ **ë©”íƒ€ë°ì´í„° ê´€ë¦¬ ë° ê±°ë²„ë„ŒìŠ¤ ì†”ë£¨ì…˜**ì…ë‹ˆë‹¤.  
ê³ ê°ì—ê²Œ ì§ì ‘ ë‚©í’ˆí•˜ëŠ” ì œí’ˆì´ê¸° ë•Œë¬¸ì—, ì¸í”„ë¼ ì„¤ê³„ì˜ **ì²« ë²ˆì§¸ ì›ì¹™**ì€ ë‹¤ìŒê³¼ ê°™ì•˜ìŠµë‹ˆë‹¤:

> **"ì–´ë–¤ í™˜ê²½ì˜ ê³ ê°ì—ê²Œë“  ë™ì¼í•œ í”Œë«í¼ì„ ë°°í¬í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤."**

### EKS vs RKE2 íŒë‹¨

| ê¸°ì¤€ | EKS | RKE2 |
|------|-----|------|
| AWS ê³ ê° ë°°í¬ | âœ… ì¦‰ì‹œ ê°€ëŠ¥ | âœ… ê°€ëŠ¥ |
| GCP/Azure ê³ ê° ë°°í¬ | âŒ ì¬êµ¬ì¶• | âœ… ì½”ë“œ ë³€ê²½ ì—†ìŒ |
| ì˜¨í”„ë ˜/íì‡„ë§ ë°°í¬ | âŒ ë¶ˆê°€ | âœ… ê°€ëŠ¥ |
| ê³ ê° ë‚©í’ˆ ìœ ì—°ì„± | AWS ì „ìš© | **ëª¨ë“  ê³ ê°** |
| ë¼ì´ì„ ìŠ¤ | AWS ì¢…ì† | ì˜¤í”ˆì†ŒìŠ¤ |
| ìš´ì˜ ë¶€ë‹´ | ë‚®ìŒ | ë†’ìŒ (í•™ìŠµ íˆ¬ì í•„ìš”) |

**ê²°ë¡ **: CSP ë…ë¦½ì„± + ë‚©í’ˆ ìœ ì—°ì„±ì´ í•µì‹¬ â†’ **RKE2 ì±„íƒ**

> ğŸ“ ìƒì„¸: [14-future-roadmap.md](14-future-roadmap.md) Â§5

---

## 2. ì´ˆê¸° ì•„í‚¤í…ì²˜ì˜ í•œê³„ â€” Cloud Agnosticì˜ ëŒ€ê°€

### ì´ˆê¸° êµ¬ì„± (v0.2)

```
RKE2 v1.31 í´ëŸ¬ìŠ¤í„° (Control Plane 3 + Worker 4)
â”œâ”€â”€ CNI: Canal (Flannel VXLAN + Calico NetworkPolicy)
â”œâ”€â”€ Pod IP: 10.42.x.x (overlay ëŒ€ì—­)
â”œâ”€â”€ Ingress: nginx-ingress (NodePort)
â”œâ”€â”€ Storage: Longhorn (CSP ë…ë¦½ ë¶„ì‚° ìŠ¤í† ë¦¬ì§€)
â”œâ”€â”€ GitOps: ArgoCD (App-of-Apps, Pure GitOps)
â””â”€â”€ Cloud Provider: ì—†ìŒ (ìˆœìˆ˜ Kubernetes)
```

RKE2ëŠ” **"Cloud Agnostic"** â€” ì–´ë–¤ í´ë¼ìš°ë“œì—ì„œë“  ë™ì¼í•˜ê²Œ ë™ì‘í•©ë‹ˆë‹¤.  
í•˜ì§€ë§Œ ê·¸ ëŒ€ê°€ë¡œ, **AWS ìœ„ì—ì„œ ì‹¤í–‰í•´ë„ AWS ë¦¬ì†ŒìŠ¤ë¥¼ ìë™ìœ¼ë¡œ ì¸ì‹í•˜ì§€ ëª»í•©ë‹ˆë‹¤.**

### CCM ë„ì… ì´ì „, ë¬´ì—‡ì´ ë™ì‘í–ˆê³  ë¬´ì—‡ì´ ì•ˆ ë˜ì—ˆëŠ”ê°€

| ì˜ì—­ | ë™ì‘ ì—¬ë¶€ | ìƒíƒœ |
|------|----------|------|
| Pod ìŠ¤ì¼€ì¤„ë§ | âœ… | ì •ìƒ |
| Pod ê°„ í†µì‹  | âœ… | Canal VXLANìœ¼ë¡œ ë™ì‘ |
| Ingress Controller | âœ… | nginx-ingress ë™ì‘ |
| ë¶„ì‚° ìŠ¤í† ë¦¬ì§€ | âœ… | Longhorn CSI |
| GitOps ë°°í¬ | âœ… | ArgoCD ì •ìƒ |
| **NLB ìë™ ìƒì„±** | âŒ | `Service(type: LoadBalancer)` ìƒì„±í•´ë„ **ì•„ë¬´ ì¼ë„ ì•ˆ ì¼ì–´ë‚¨** |
| **Node AWS ì¸ì‹** | âŒ | K8sê°€ EC2ì˜ Zone, Instance type ë“± **ëª¨ë¦„** |
| **NLB Target ë“±ë¡** | âŒ | ìˆ˜ë™ìœ¼ë¡œ Terraform + AWS CLI ì‚¬ìš© |

> **í•µì‹¬ ë¬¸ì œ**: ì™¸ë¶€ íŠ¸ë˜í”½ì„ í´ëŸ¬ìŠ¤í„°ë¡œ ìœ ì…ì‹œí‚¤ë ¤ë©´ NLBê°€ í•„ìš”í•œë°,  
> K8sê°€ AWSë¥¼ ëª¨ë¥´ë‹ˆ NLBë¥¼ ìë™ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ë„, Targetì„ ë“±ë¡í•  ìˆ˜ë„ ì—†ì—ˆë‹¤.

### ìˆ˜ë™ ìš´ì˜ì˜ ê³ í†µ

NLBë¥¼ Terraformìœ¼ë¡œ ë³„ë„ ìƒì„±í•˜ê³ , Worker Nodeë¥¼ **ìˆ˜ë™ìœ¼ë¡œ** Target Groupì— ë“±ë¡í•´ì•¼ í–ˆìŠµë‹ˆë‹¤:

```
Terraformìœ¼ë¡œ NLB ìƒì„± â†’ AWS Consoleì—ì„œ ìˆ˜ë™ Target ë“±ë¡
  â†’ Worker Node ì¶”ê°€/ì œê±° ì‹œë§ˆë‹¤ ìˆ˜ë™ TG ì—…ë°ì´íŠ¸
    â†’ ëˆ„ë½ ì‹œ ì„œë¹„ìŠ¤ ì¤‘ë‹¨
```

ì´ê²ƒì€ ìš°ë¦¬ê°€ ëª©í‘œí•˜ëŠ” **"Zero-Touch í”„ë¡œë¹„ì €ë‹"** ê³¼ ì •ë©´ìœ¼ë¡œ ì¶©ëŒí–ˆìŠµë‹ˆë‹¤.

---

## 3. CCM ë„ì… ê²°ì • â€” K8sì™€ AWSë¥¼ ì—°ê²°í•˜ëŠ” ë‹¤ë¦¬

### ì•„í‚¤í…ì²˜ ë°©í–¥ê³¼ CCMì˜ í•„ìš”ì„±

```
ìš°ë¦¬ì˜ ëª©í‘œ:
  Terraform IaC + GitOps(ArgoCD) + Zero-Touch í”„ë¡œë¹„ì €ë‹
  â†’ í´ëŸ¬ìŠ¤í„° ìƒì„± ì¦‰ì‹œ ì„œë¹„ìŠ¤ íˆ¬ì… ê°€ëŠ¥í•œ ì™„ì „ ìë™í™”
```

ì´ ëª©í‘œë¥¼ ìœ„í•´ ë°˜ë“œì‹œ í•„ìš”í•œ ê²ƒ:
1. `Service(type: LoadBalancer)` â†’ **NLB ìë™ ìƒì„±**
2. Worker Node â†’ **Target Group ìë™ ë“±ë¡**
3. Node ì •ë³´ â†’ **AWS ë©”íƒ€ë°ì´í„° ìë™ ë™ê¸°í™”**

ì´ ì„¸ ê°€ì§€ë¥¼ ì œê³µí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ **Cloud Controller Manager(CCM)** ì…ë‹ˆë‹¤.

### CCMì˜ 3ê°€ì§€ ì—­í• 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Cloud Controller Manager (CCM)                  â”‚
â”‚                                                              â”‚
â”‚  1. Node Controller                                          â”‚
â”‚     â†’ EC2 ë©”íƒ€ë°ì´í„° â†’ K8s Node ì •ë³´ ë™ê¸°í™”                  â”‚
â”‚     â†’ Zone, Instance type, ì¢…ë£Œ ê°ì§€                         â”‚
â”‚                                                              â”‚
â”‚  2. Route Controller                                         â”‚
â”‚     â†’ Pod ë„¤íŠ¸ì›Œí¬ ê²½ë¡œë¥¼ VPC Route Tableì— ë“±ë¡              â”‚
â”‚     â†’ ë‹¤ë¥¸ Nodeì˜ Podì´ í†µì‹ í•  ìˆ˜ ìˆê²Œ ë¼ìš°íŒ…                â”‚
â”‚                                                              â”‚
â”‚  3. LoadBalancer Controller                                  â”‚
â”‚     â†’ Service(type: LB) ìƒì„± ì‹œ NLB ìë™ í”„ë¡œë¹„ì €ë‹          â”‚
â”‚     â†’ Worker Nodeë¥¼ Target Groupì— ìë™ ë“±ë¡                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **í•œ ì¤„ ìš”ì•½**: CCM = **K8sê°€ AWSë¥¼ ì¸ì‹í•˜ê³  AWS ë¦¬ì†ŒìŠ¤ë¥¼ ìë™ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë‹¤ë¦¬**

### ì™œ In-treeê°€ ì•„ë‹Œ External(Out-of-tree) CCMì¸ê°€

ê³¼ê±°ì—ëŠ” ì´ í´ë¼ìš°ë“œ ì—°ë™ ë¡œì§ì´ K8s í•µì‹¬ ë°”ì´ë„ˆë¦¬(`kube-controller-manager`) ì•ˆì— **ë‚´ì¥(In-tree)** ë˜ì–´ ìˆì—ˆìŠµë‹ˆë‹¤.

```
ê³¼ê±° (In-tree):
  kube-controller-manager ì•ˆì— AWS, GCP, Azure ì½”ë“œê°€ ëª¨ë‘ í¬í•¨
  â†’ ë°”ì´ë„ˆë¦¬ ë¹„ëŒ€í™”, ë¦´ë¦¬ì¦ˆ ì¢…ì†, ë³´ì•ˆ ë¦¬ìŠ¤í¬

í˜„ì¬ (Out-of-tree / External):
  Cloud Controller Managerë¥¼ ë³„ë„ Podìœ¼ë¡œ ë¶„ë¦¬ ë°°í¬
  â†’ ë…ë¦½ ì—…ë°ì´íŠ¸, ê²½ëŸ‰ ì½”ì–´, í”ŒëŸ¬ê·¸ì¸ ì•„í‚¤í…ì²˜
```

**Kubernetes v1.27ë¶€í„° In-tree Provider ì½”ë“œê°€ ì™„ì „íˆ ì‚­ì œ(Removed)** ë˜ì—ˆìŠµë‹ˆë‹¤.

| | In-tree (v1.26 ì´í•˜) | External CCM (v1.27+) |
|---|---|---|
| **ìœ„ì¹˜** | kube-controller-manager ë‚´ì¥ | ë³„ë„ Podìœ¼ë¡œ ë°°í¬ |
| **ì„¤ì •** | `cloud-provider: "aws"` | `cloud-provider: "external"` |
| **Node ì´ˆê¸°í™”** | ë¶€íŒ… ì¦‰ì‹œ `Ready` | ë¶€íŒ… ì‹œ `NotReady` + Taint â†’ CCMì´ ì´ˆê¸°í™” |
| **ì—…ë°ì´íŠ¸** | K8s ì „ì²´ ì—…ê·¸ë ˆì´ë“œ í•„ìš” | CCMë§Œ ë…ë¦½ ì—…ë°ì´íŠ¸ |

> **ìš°ë¦¬ì˜ ìƒí™©**: RKE2 v1.31 â†’ In-tree ì½”ë“œ ì—†ìŒ â†’ **External CCM ì„¤ì¹˜ê°€ ì„ íƒì´ ì•„ë‹Œ í•„ìˆ˜**

---

## 4. CCM ë„ì…ì˜ ë‚œê´€ â€” ë‹­ê³¼ ë‹¬ê±€ ë¬¸ì œ

External CCM ë„ì…ì€ ìˆœíƒ„í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.

### ë‚œê´€ 1: ìˆœí™˜ ì˜ì¡´ì„± (Deadlock)

```
CCM Podë¥¼ ë„ì›Œì•¼ â†’ Nodeê°€ ì´ˆê¸°í™”(Ready)ë˜ëŠ”ë°
  â†’ Nodeê°€ Readyê°€ ì•„ë‹ˆë©´ â†’ CCM Podê°€ ìŠ¤ì¼€ì¤„ë§ ì•ˆ ë¨
    â†’ ë‹­ì´ ë¨¼ì €ëƒ ì•Œì´ ë¨¼ì €ëƒ
```

**í•´ê²°**: RKE2ì˜ **Static Manifests** ê¸°ëŠ¥ í™œìš©

```
EC2 ë¶€íŒ… â†’ UserData ì‹¤í–‰
  â†’ /var/lib/rancher/rke2/server/manifests/aws-ccm.yaml ë°°ì¹˜
    â†’ RKE2 ì—”ì§„ì´ íŒŒì¼ ì‹œìŠ¤í…œì—ì„œ ìë™ ê°ì§€
      â†’ CCM Pod ë°°í¬ (Tolerationìœ¼ë¡œ uninitialized ë…¸ë“œì—ì„œë„ ì‹¤í–‰)
        â†’ Node ì´ˆê¸°í™” ì™„ë£Œ â†’ Ready
```

API ì„œë²„ë‚˜ ArgoCDì— ì˜ì¡´í•˜ì§€ ì•Šê³ , **ë¶€íŠ¸ìŠ¤íŠ¸ë© ë‹¨ê³„ì—ì„œ CCMì„ ìë™ ì£¼ì…**í•˜ì—¬ êµì°© ìƒíƒœë¥¼ ì›ì²œ ì°¨ë‹¨í–ˆìŠµë‹ˆë‹¤.

> ğŸ“ ìƒì„¸: [06-rke2-optimization-guide.md](06-rke2-optimization-guide.md)

### ë‚œê´€ 2: ì—„ê²©í•´ì§„ ì‹ë³„ì

External CCMì€ ê³¼ê±° In-treeë³´ë‹¤ **í›¨ì”¬ ì—„ê²©í•œ ì‹ë³„ ì²´ê³„**ë¥¼ ìš”êµ¬í•©ë‹ˆë‹¤:

- EC2 íƒœê·¸: `kubernetes.io/cluster/<name>=owned` í•„ìˆ˜
- `providerID`: `aws:///ap-northeast-2a/i-0abc123...` í˜•ì‹ í•„ìˆ˜
- í´ëŸ¬ìŠ¤í„° ì´ë¦„: ì¸í”„ë¼ íƒœê·¸ì™€ CCM ì¸ìê°€ **í•œ ê¸€ìë¼ë„ ë‹¤ë¥´ë©´ ë™ì‘ ë©ˆì¶¤**

### ë„ì… ê²°ê³¼

Static Manifests + Toleration + íƒœê·¸ ì²´ê³„ ì •ë¹„ë¡œ CCM ë„ì… ì„±ê³µ:

| í•­ëª© | ê²°ê³¼ |
|------|------|
| Node Ready | âœ… ì „ì²´ ë…¸ë“œ ìë™ ì´ˆê¸°í™” |
| Taint ìë™ ì œê±° | âœ… `uninitialized` Taint í•´ì†Œ |
| NLB ìë™ ìƒì„± | âœ… `Service(type: LB)` â†’ NLB í”„ë¡œë¹„ì €ë‹ |
| **NLB Target ë“±ë¡** | âŒ **Worker Nodeë¥¼ Target Groupì— ë“±ë¡í•˜ì§€ ëª»í•¨** |

> NLBëŠ” ë§Œë“¤ì–´ì§€ëŠ”ë°, **Targetì´ ë¹„ì–´ìˆì–´ì„œ íŠ¸ë˜í”½ì´ ë„ë‹¬í•˜ì§€ ì•ŠëŠ” ìƒíƒœ.**

---

## 5. CCMì˜ êµ¬ì¡°ì  ë¬¸ì œ â€” "ë²„ê·¸"ì˜ ì§„ì§œ ì›ì¸

NLB Target ë¯¸ë“±ë¡ í˜„ìƒì„ íŒŒê³ ë“¤ë©´ì„œ, ì´ê²ƒì´ ë‹¨ìˆœí•œ ì†Œí”„íŠ¸ì›¨ì–´ ë²„ê·¸ê°€ ì•„ë‹Œ **êµ¬ì¡°ì  ë¹„í˜¸í™˜**ì„ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.

### ë¬¸ì œ ì²´ì¸ (Root Cause Analysis)

```
â‘  Canal VXLAN Overlay
   Pod IPê°€ 10.42.x.x (overlay ëŒ€ì—­) â†’ VPCì—ì„œ ë¼ìš°íŒ… ë¶ˆê°€ëŠ¥

     â‘¡ CCM Route Controller ë¹„í™œì„±í™”
        --configure-cloud-routes=false ìƒíƒœ
        â†’ VPC Route Tableì— Pod CIDR ìš°íšŒ ê²½ë¡œë„ ì—†ìŒ

           â‘¢ providerID ë¯¸ì„¤ì •
              RKE2 External ëª¨ë“œì—ì„œ ìë™ ì£¼ì…ë˜ì§€ ì•ŠìŒ
              â†’ CCMì´ Node â†” EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§¤í•‘í•˜ì§€ ëª»í•¨

                 â†’ NLB Target Groupì— Worker ë“±ë¡ ë¶ˆê°€
```

### ê° ìš”ì¸ ìƒì„¸

#### â‘  Canal VXLAN Overlay â€” ê·¼ë³¸ ì›ì¸

```
Canal CNI (Flannel ê¸°ë°˜):
  Pod IP = 10.42.x.x   â† VXLAN í„°ë„ë¡œ ìº¡ìŠí™”ëœ ê°€ìƒ IP
  VPC IP = 10.0.x.x    â† AWS VPCê°€ ì‹¤ì œë¡œ ë¼ìš°íŒ…í•˜ëŠ” IP

  ê²°ê³¼: NLBê°€ Pod IP(10.42.x.x)ë¡œ íŠ¸ë˜í”½ì„ ë³´ë‚´ë©´ â†’ VPCì—ì„œ DROP
        â†’ NLB Target Health: unhealthy
```

**overlay ìì²´ê°€ "ë¹„ VPC-native"ì´ë¯€ë¡œ, ê·¸ ìœ„ì— ìŒ“ì€ ëª¨ë“  AWS í†µí•©ì´ ë¬´ë ¥í™”ë©ë‹ˆë‹¤.**

#### â‘¡ CCM Route Controller ë¹„í™œì„±í™”

overlay í™˜ê²½ì—ì„œë„ CCM Route Controllerê°€ VPC Route Tableì— `10.42.x.x/24 â†’ Node` ê²½ë¡œë¥¼ ë§Œë“¤ì–´ì£¼ë©´ ìš°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜:

- `--configure-cloud-routes=false`ë¡œ ì„¤ì • â†’ Routeë¥¼ **ì•„ì˜ˆ ë§Œë“¤ì§€ ì•ŠìŒ**
- ì„¤ë ¹ í™œì„±í™”í•´ë„ **AWS VPC Route Table 50ê°œ Route í•œë„** â†’ ê·¼ë³¸ í•´ê²°ì´ ì•„ë‹˜

#### â‘¢ providerID ë¯¸ì„¤ì •

CCMì´ K8s Node ê°ì²´ì™€ EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§¤í•‘í•˜ë ¤ë©´ `providerID`ê°€ í•„ìš”í•©ë‹ˆë‹¤:

```
Expected: spec.providerID: aws:///ap-northeast-2a/i-0abc123def456
Actual:   spec.providerID: (ì—†ìŒ)
```

RKE2 External Cloud Provider ëª¨ë“œì—ì„œ ìë™ ì£¼ì…ì´ ë˜ì§€ ì•Šì•„, CCMì´ **"ì´ Nodeê°€ ì–´ë–¤ EC2ì¸ì§€ ëª¨ë¥´ëŠ”"** ìƒíƒœ.

### "ë²„ê·¸"ê°€ ì•„ë‹ˆë¼ "êµ¬ì¡°ì  ë¹„í˜¸í™˜"

| ìš”ì¸ | ìš”ì•½ |
|------|------|
| **Canal overlay** | Pod IPê°€ VPC unreachable â†’ AWS í†µí•© ì „ì²´ ë¬´ë ¥í™” |
| **Route Controller ë¹„í™œì„±** | ìš°íšŒ ê²½ë¡œì¡°ì°¨ ì—†ìŒ |
| **providerID ë¯¸ì„¤ì •** | CCMì´ Node â†” EC2 ë§¤í•‘ ì‹¤íŒ¨ |
| **ì¢…í•©** | **RKE2 + Canal + External CCM** ì¡°í•©ì˜ êµ¬ì¡°ì  í•œê³„ |

> ğŸ“ ìƒì„¸: [07-cloud-provider-migration-report.md](07-cloud-provider-migration-report.md), [08-nlb-architecture.md](08-nlb-architecture.md)

---

## 6. ALBC + IP Mode ì‹œë„ â€” ê·¸ë¦¬ê³  ë‘ ë²ˆì§¸ ë²½

CCMì˜ LoadBalancer ê¸°ëŠ¥ì´ ì œëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ, **ì „ìš© ë¡œë“œë°¸ëŸ°ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ì¸ ALBC(AWS Load Balancer Controller)** ë¥¼ ë„ì…í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.

### CCM vs ALBC ë¹„êµ

| í•­ëª© | CCM (í˜„ì¬) | ALBC (ëª©í‘œ) |
|------|-----------|------------|
| Target ìœ í˜• | **Instance** (Worker:NodePort) | **IP** (Pod ì§ì ‘) |
| íŠ¸ë˜í”½ ê²½ë¡œ | NLB â†’ Worker â†’ kube-proxy â†’ Pod (2-hop) | NLB â†’ **Pod ì§ì ‘** (1-hop) |
| Target ë“±ë¡ | Worker Node ê³ ì • (ìˆ˜ë™) | **Pod ìë™ ì¦ê°** |
| NodePort | í•„ìš” (30000-32767) | ë¶ˆí•„ìš” |
| Worker ì¶”ê°€ ì‹œ | ìˆ˜ë™ TG ì—…ë°ì´íŠ¸ âš ï¸ | **ìë™** |

### ì°¨ë‹¨ â‘ : IRSAê°€ ì—†ë‹¤

ALBC Podê°€ AWS API(NLB/ALB ê´€ë¦¬)ë¥¼ í˜¸ì¶œí•˜ë ¤ë©´ **IAM ì¸ì¦**ì´ í•„ìš”í•©ë‹ˆë‹¤.  
EKSì—ì„œëŠ” IRSA(IAM Roles for Service Accounts)ê°€ ìë™ìœ¼ë¡œ ì œê³µë˜ì§€ë§Œ:

```
EKS:  K8s ServiceAccount â†’ EKS OIDC Provider (ìë™) â†’ AWS STS â†’ IAM Role
RKE2: K8s ServiceAccount â†’ OIDC Provider ???  â†’ ì—°ê²° ë¶ˆê°€ âŒ
```

**RKE2ì—ëŠ” OIDC Providerê°€ ì—†ìŠµë‹ˆë‹¤.** ALBC Podê°€ AWS ìê²©ì¦ëª…ì„ ì–»ì„ ë°©ë²•ì´ ì—†ì—ˆìŠµë‹ˆë‹¤.

### ì°¨ë‹¨ â‘¡: Overlayë¡œ IP Mode ë¶ˆê°€

ALBCì˜ í•µì‹¬ ì¥ì ì¸ **IP Mode** â€” NLBê°€ Pod IPë¡œ ì§ì ‘ íŠ¸ë˜í”½ì„ ì „ì†¡:

```
IP Mode ì „ì œì¡°ê±´: Pod IPê°€ VPCì—ì„œ ë¼ìš°íŒ… ê°€ëŠ¥í•´ì•¼ í•¨

í˜„ì‹¤:
  Canal Pod IP = 10.42.x.x (overlay) â†’ VPCì—ì„œ unreachable
  â†’ IP Modeë¡œ ì „í™˜í•´ë„ NLB Target Health = unhealthy
  â†’ ê·¼ë³¸ì ìœ¼ë¡œ ë¶ˆê°€ëŠ¥
```

> **ë‘ ê°œì˜ ë²½**: OIDC Provider ë¶€ì¬ + overlay networking  
> ì´ ì‹œì ì—ì„œ **íŒ¨ì¹˜ê°€ ì•„ë‹Œ í”Œë«í¼ ìˆ˜ì¤€ì˜ ì¬ì„¤ê³„**ê°€ í•„ìš”í•¨ì„ ì¸ì‹í–ˆìŠµë‹ˆë‹¤.

---

## 7. Keycloak Â· Vault Â· Cilium â€” ê·¼ë³¸ í•´ê²°

ê° ì°¨ë‹¨ ìš”ì†Œë¥¼ í•´ê²°í•˜ëŠ” ê³¼ì •ì—ì„œ **ì˜ì‚¬ê²°ì •ì´ ì—°ì‡„ì ìœ¼ë¡œ ì´ì–´ì¡ŒìŠµë‹ˆë‹¤.**

### ì˜ì‚¬ê²°ì • ì²´ì¸

```
CCM ë²„ê·¸ â†’ NLBë¥¼ ì–´ë–»ê²Œ ê³ ì¹˜ì§€?
  â†’ ALBC ë„ì…í•˜ì
    â†’ ALBCì— IAM ì¸ì¦ì´ í•„ìš”í•œë° RKE2ì—” IRSAê°€ ì—†ë‹¤
      â†’ ì–´ë–»ê²Œ í•´ê²°í•˜ì§€?

        â†’ Keycloakì´ë©´ SSOë„ ë˜ê³  OIDC Providerë„ ëœë‹¤
          â†’ Keycloak ë„ì… ê²°ì • âœ…

            â†’ ê·¸ëŸ°ë° Workload IdentityëŠ” Keycloak OIDCë¡œ ì•ˆ ëœë‹¤
              â†’ Vault AWS Secrets Engineì´ë©´?
                â†’ K8s SA Token â†’ Vault K8s Auth â†’ AWS SE â†’ STS ì„ì‹œ ìê²©ì¦ëª…
                  â†’ Vault ë„ì… ê²°ì • âœ…

                    â†’ NLB IP-modeëŠ” ì™œ ì•ˆ ë˜ì§€?
                      â†’ Pod IPê°€ 10.42.x.x (overlay) â†’ VPC unreachable
                        â†’ ê·¼ë³¸ ì›ì¸: Canal VXLAN overlay
                          â†’ Cilium ENI Modeë¡œ ì „í™˜ ê²°ì • âœ…
```

### ê° ì»´í¬ë„ŒíŠ¸ê°€ í•´ì†Œí•˜ëŠ” ê²ƒ

#### Keycloak â€” OIDC Provider + SSO í†µí•© (ì°¨ë‹¨ â‘  í•´ì†Œ)

| ë¬¸ì œ | Before | After |
|------|--------|-------|
| OIDC Provider ë¶€ì¬ | RKE2ì— ì—†ìŒ | âœ… Keycloakì´ OIDC Provider |
| ì„œë¹„ìŠ¤ë³„ ê°œë³„ ë¡œê·¸ì¸ | 6ê°œ ì„œë¹„ìŠ¤ Ã— ê°œë³„ ê³„ì • | âœ… í•œ ë²ˆ ë¡œê·¸ì¸ìœ¼ë¡œ ì „ì²´ ì ‘ê·¼ (SSO) |
| í‡´ì‚¬ì ì ‘ê·¼ ì°¨ë‹¨ | ì„œë¹„ìŠ¤ë§ˆë‹¤ ê°œë³„ ë¹„í™œì„±í™” | âœ… Keycloakì—ì„œ í•œ ë²ˆì— ì°¨ë‹¨ |
| K8s API ì ‘ê·¼ | kubeconfig í† í° (ì˜êµ¬) | âœ… OIDC ê¸°ë°˜ ì„ì‹œ í† í° |
| ê³ ê° ë©€í‹°í…Œë„ŒíŠ¸ | ë¯¸êµ¬í˜„ | âœ… Realm ê¸°ë°˜ í…Œë„ŒíŠ¸ ë¶„ë¦¬ |

> ğŸ“ ìƒì„¸: [11-keycloak-idp-strategy.md](11-keycloak-idp-strategy.md)

#### Vault AWS Secrets Engine â€” Workload Identity (IRSA ëŒ€ì²´)

ALBC Podì˜ IAM ì¸ì¦ì„ Keycloak OIDCê°€ ì•„ë‹Œ **Vault**ê°€ ë‹´ë‹¹í•©ë‹ˆë‹¤:

```
ALBC Pod â†’ K8s ServiceAccount Token
  â†’ Vault (K8s Auth Methodë¡œ ì¸ì¦)
    â†’ Vault AWS Secrets Engine (AssumeRole)
      â†’ STS ì„ì‹œ ìê²©ì¦ëª… ë°œê¸‰ (15ë¶„ TTL, ìë™ rotation)
        â†’ ALBCê°€ NLB/ALB Target Group ê´€ë¦¬
```

| í•­ëª© | IRSA (EKS ë°©ì‹) | Vault AWS SE (ìš°ë¦¬ ë°©ì‹) |
|------|----------------|------------------------|
| OIDC Provider | EKS ìë™ | ë¶ˆí•„ìš” (Vault K8s Auth) |
| ìê²©ì¦ëª… ìˆ˜ëª… | 12ì‹œê°„ | **15ë¶„** (ë” ì•ˆì „) |
| CSP ì¢…ì† | AWS ì „ìš© | **CSP ë¬´ê´€** (GCP, Azure í™•ì¥ ê°€ëŠ¥) |
| ê¸°ì¡´ ì¸í”„ë¼ | ì‹ ê·œ êµ¬ì¶• | âœ… Vault + K8s Auth ì¬í™œìš© |

#### Cilium ENI Mode â€” VPC-native Pod IP (ì°¨ë‹¨ â‘¡ í•´ì†Œ)

```
Canal (Before):
  Pod IP = 10.42.x.x (VXLAN overlay)
  â†’ VPCì—ì„œ ë¼ìš°íŒ… ë¶ˆê°€ â†’ NLB IP-mode ë¶ˆê°€

Cilium ENI Mode (After):
  Pod IP = 10.0.x.x (VPC Subnet IP)
  â†’ VPCì—ì„œ ì§ì ‘ ë¼ìš°íŒ… â†’ NLB IP-mode ë„¤ì´í‹°ë¸Œ ë™ì‘
```

Ciliumì€ AWS ENI(Elastic Network Interface)ì˜ Secondary IPë¥¼ Podì— í• ë‹¹í•©ë‹ˆë‹¤:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EC2 Instance (t3.large)                             â”‚
â”‚                                                      â”‚
â”‚  ENI-0 (Primary): 10.0.11.106 (Node IP)             â”‚
â”‚  ENI-1 (Cilium):  10.0.11.45, .46, .47, ...         â”‚
â”‚  ENI-2 (Cilium):  10.0.12.30, .31, .32, ...         â”‚
â”‚                                                      â”‚
â”‚  Pod-A: 10.0.11.45  â† VPC IP (ì§ì ‘ ë¼ìš°íŒ… ê°€ëŠ¥!)     â”‚
â”‚  Pod-B: 10.0.12.30  â† VPC IP (ì§ì ‘ ë¼ìš°íŒ… ê°€ëŠ¥!)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

overlayê°€ ì•„ë‹Œ VPC-native IPì´ë¯€ë¡œ **NLB, ALB, EC2 ì–´ë””ì„œë“  ì§ì ‘ ì ‘ê·¼ ê°€ëŠ¥**.

| ì˜ì—­ | Canal (Before) | Cilium ENI (After) |
|------|---------------|-------------------|
| **Pod IP** | 10.42.x.x (overlay) | 10.0.x.x (VPC-native) |
| **NLB IP-mode** | âŒ unreachable | âœ… ë„¤ì´í‹°ë¸Œ |
| **CCM ì˜ì¡´ì„±** | Route Controller í•„ìš” | **ë¶ˆí•„ìš”** |
| **NetworkPolicy** | L3-L4 (Calico) | L3-**L7** (eBPF, HTTP path ìˆ˜ì¤€) |
| **kube-proxy** | iptables O(n) | eBPF O(1) |
| **ë„¤íŠ¸ì›Œí¬ ê´€ì¸¡ì„±** | ì—†ìŒ | Hubble (ì‹¤ì‹œê°„ flow) |

> Cilium ì „í™˜ì€ Canal overlayê°€ ë§Œë“  **ê·¼ë³¸ì ì¸ ë¬¸ì œ ì²´ì¸**(NLB Target unhealthy, CCM Route ë¯¸ë™ì‘, ALBC IP-mode ë¶ˆê°€)ì„ **ì¼ê´„ í•´ì†Œ**í•©ë‹ˆë‹¤.

> ğŸ“ ìƒì„¸: [17-cilium-cni-architecture.md](17-cilium-cni-architecture.md)

---

## 8. ìµœì¢… ì•„í‚¤í…ì²˜ â€” 3-Layer Identity Stack

ëª¨ë“  ì˜ì‚¬ê²°ì •ì„ ê±°ì³ ë„ë‹¬í•œ ìµœì¢… ì•„í‚¤í…ì²˜:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   3-Layer Identity Stack                   â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Keycloak      â”‚ â”‚    Vault     â”‚ â”‚    Teleport     â”‚ â”‚
â”‚  â”‚ L1: Human SSO   â”‚ â”‚ L2: Secrets  â”‚ â”‚ L3: Access      â”‚ â”‚
â”‚  â”‚                  â”‚ â”‚ + Workload   â”‚ â”‚                 â”‚ â”‚
â”‚  â”‚ 5ê°œ ì„œë¹„ìŠ¤ SSO   â”‚ â”‚   Identity   â”‚ â”‚ SSH, K8s, DB    â”‚ â”‚
â”‚  â”‚ K8s OIDC Auth   â”‚ â”‚ ë™ì  ì‹œí¬ë¦¿  â”‚ â”‚ Web App         â”‚ â”‚
â”‚  â”‚                  â”‚ â”‚ AWS SE(STS)  â”‚ â”‚ ì„¸ì…˜ ë…¹í™”       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚          â”‚                  â”‚                  â”‚           â”‚
â”‚          â–¼                  â–¼                  â–¼           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚           Kubernetes Platform (RKE2)                â”‚   â”‚
â”‚  â”‚  Cilium ENI Â· ALBC Â· nginx-ingress Â· ArgoCD        â”‚   â”‚
â”‚  â”‚  cert-manager Â· external-dns Â· Longhorn Â· Hubble   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë²„ì „ë³„ ì§„í™” ìš”ì•½

```
v0.1 (Foundation):
  VPC â”€â”€ Golden Image â”€â”€ Bastion â”€â”€ Harbor
  "ì¸í”„ë¼ ë¼ˆëŒ€ ì™„ì„±. K8s ì—†ìŒ."

v0.2 (K8s Core):
  + RKE2 â”€â”€ ArgoCD â”€â”€ Longhorn â”€â”€ nginx-ingress
  "K8s + GitOps ë™ì‘. NLB ìˆ˜ë™, ì„œë¹„ìŠ¤ ì—†ìŒ."

v0.3 (Services):
  + Teleport â”€â”€ PostgreSQL â”€â”€ Neo4j â”€â”€ OpenSearch â”€â”€ Grafana
  "ì„œë¹„ìŠ¤ ì „ë¶€ ë°°í¬. ê°œë³„ ì¸ì¦, ì‹œí¬ë¦¿ í•˜ë“œì½”ë”©."

v0.4 (Zero-Trust):
  + Dual NLB â”€â”€ Dual Ingress â”€â”€ DNS-01 â”€â”€ WAF
  "íŠ¸ë˜í”½ ë¶„ë¦¬, Zero-Trust ì ‘ê·¼. ì¸ì¦/ì‹œí¬ë¦¿ ë¯¸í•´ê²°."

v0.5 (Identity & Secrets):
  + Keycloak (SSO) â”€â”€ Vault (ë™ì  ì‹œí¬ë¦¿) â”€â”€ ALBC (IP mode)
  "3-Layer Identity Stack ì™„ì„±. ì—…ê³„ í‘œì¤€ ë‹¬ì„±."

v1.0 (Network Evolution):
  + Cilium ENI â”€â”€ eBPF kube-proxy â”€â”€ Hubble â”€â”€ L7 NetworkPolicy
  "VPC-native Pod IP. ëª¨ë“  ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ ê·¼ë³¸ í•´ì†Œ."
```

> ğŸ“ ìƒì„¸: [16-architecture-evolution-decision.md](16-architecture-evolution-decision.md)

---

## 9. í•µì‹¬ êµí›ˆ

### â‘  í•˜ë‚˜ì˜ ë¬¸ì œê°€ ì•„í‚¤í…ì²˜ ì „ì²´ë¥¼ ë°”ê¿€ ìˆ˜ ìˆë‹¤

CCMì˜ NLB Target ë¯¸ë“±ë¡ì´ë¼ëŠ” **í•˜ë‚˜ì˜ ì¦ìƒ**ì„ ì¶”ì í•œ ê²°ê³¼:
- CNI êµì²´ (Canal â†’ Cilium)
- IdP ë„ì… (Keycloak)
- ì‹œí¬ë¦¿ ê´€ë¦¬ ë„ì… (Vault)
- ë¡œë“œë°¸ëŸ°ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ êµì²´ (CCM â†’ ALBC)

4ê°œ ì˜ì—­ì˜ ê·¼ë³¸ì  ì¬ì„¤ê³„ë¡œ ì´ì–´ì¡ŒìŠµë‹ˆë‹¤.

### â‘¡ "ì™œ?"ë¥¼ 5ë²ˆ ë¬¼ì–´ì•¼ ê·¼ë³¸ ì›ì¸ì´ ë‚˜ì˜¨ë‹¤

```
ì™œ NLB Targetì´ ë“±ë¡ ì•ˆ ë˜ì§€?     â†’ CCM bug
ì™œ CCMì´ ì•ˆ ë™ì‘í•˜ì§€?             â†’ providerID ë¯¸ì„¤ì •
ì™œ providerIDê°€ ì—†ì§€?             â†’ External CCM ì „í™˜ ì‹œ ëˆ„ë½
ì™œ IP-modeê°€ ì•ˆ ë˜ì§€?             â†’ Pod IPê°€ VPC unreachable
ì™œ Pod IPê°€ unreachableì´ì§€?      â†’ Canal VXLAN overlay â† ê·¼ë³¸ ì›ì¸
```

### â‘¢ Cloud Agnosticì€ ê³µì§œê°€ ì•„ë‹ˆë‹¤

RKE2ì˜ CSP ë…ë¦½ì„±ì€ **ë©€í‹°í´ë¼ìš°ë“œ/ì˜¨í”„ë ˜ ë‚©í’ˆ**ì´ë¼ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ë¥¼ ì œê³µí•˜ì§€ë§Œ,  
EKSê°€ ìë™ìœ¼ë¡œ í•´ì£¼ëŠ” ê²ƒë“¤(OIDC, IRSA, NLB ê´€ë¦¬)ì„ **ì§ì ‘ êµ¬ì¶•í•´ì•¼ í•˜ëŠ” ë¹„ìš©**ì´ ìˆìŠµë‹ˆë‹¤.

| EKSê°€ ìë™ìœ¼ë¡œ í•´ì£¼ëŠ” ê²ƒ | RKE2ì—ì„œ ìš°ë¦¬ê°€ êµ¬ì¶•í•œ ê²ƒ |
|------------------------|------------------------|
| OIDC Provider | Keycloak |
| IRSA (Pod IAM) | Vault AWS Secrets Engine |
| VPC CNI (IP Mode) | Cilium ENI Mode |
| NLB ìë™ ê´€ë¦¬ | ALBC |

> **í•˜ì§€ë§Œ ê·¸ ê²°ê³¼**: EKSë³´ë‹¤ **ë” ìœ ì—°í•˜ê³ , ë” ì•ˆì „í•˜ë©°, CSPì— ì¢…ì†ë˜ì§€ ì•ŠëŠ”** ì•„í‚¤í…ì²˜ë¥¼ ê°–ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

### â‘£ ì‹œì¥ì´ ê²€ì¦í•œ ì•„í‚¤í…ì²˜

ìš°ë¦¬ ëª©í‘œ ì•„í‚¤í…ì²˜ê°€ ì˜¤ë²„ìŠ¤í™ì´ ì•„ë‹˜ì„ ì‹œì¥ì´ ì¦ëª…í•©ë‹ˆë‹¤:

| ì†”ë£¨ì…˜ | IdP | Secrets | ë¹„ê³  |
|--------|-----|---------|------|
| **Atlan** (ì‹œì¥ ì„ ë‘) | **Keycloak** â˜… | **Vault** â˜… | ìš°ë¦¬ì™€ ë™ì¼ êµ¬ì„± |
| Collibra | SSO | **Vault** | |
| Alation | SAML | **Vault** | |
| DataHub (ì˜¤í”ˆì†ŒìŠ¤) | **OIDC (Keycloak)** | K8s Secrets | |

> ğŸ“ ìƒì„¸: [market-player-infrastructure-research.md](market-player-infrastructure-research.md)

---

## ì°¸ê³  ë¬¸ì„œ

| # | ë¬¸ì„œ | ë‚´ìš© |
|---|------|------|
| 06 | [rke2-optimization-guide.md](06-rke2-optimization-guide.md) | CCM Static Manifests í†µí•©, ë‹­ê³¼ ë‹¬ê±€ ë¬¸ì œ í•´ê²° |
| 07 | [cloud-provider-migration-report.md](07-cloud-provider-migration-report.md) | In-tree â†’ Out-of-tree ë§ˆì´ê·¸ë ˆì´ì…˜ ê¸°ìˆ  ë¶„ì„ |
| 08 | [nlb-architecture.md](08-nlb-architecture.md) | NLB/CCM/ALBC ì—­í•  êµ¬ë¶„, Instance vs IP Mode |
| 11 | [keycloak-idp-strategy.md](11-keycloak-idp-strategy.md) | Keycloak ë„ì… ì „ëµ, OIDC SSO |
| 14 | [future-roadmap.md](14-future-roadmap.md) | EKS vs RKE2 íŒë‹¨, ì „ì²´ ê³ ë„í™” ë¡œë“œë§µ |
| 16 | [architecture-evolution-decision.md](16-architecture-evolution-decision.md) | **ìµœì¢… ì˜ì‚¬ê²°ì • ë¬¸ì„œ** (ë²„ì „ë³„ ì§„í™”, ìŠ¤íƒ ë³€ê²½) |
| 17 | [cilium-cni-architecture.md](17-cilium-cni-architecture.md) | Cilium ENI Mode ì „í™˜ ì•„í‚¤í…ì²˜ |
