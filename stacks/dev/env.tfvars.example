region = "ap-northeast-2"

# Naming
env     = "dev"
name    = "dev-network"
project = "dev"

tags = {
  ManagedBy = "terraform"
  Project   = "dev"
  Env       = "dev"
}

# Remote state (S3 backend)
state_bucket    = "enc-tfstate"
state_region    = "ap-northeast-2"
state_key_prefix = "enc-iac"


# Multi-AZ (default: a,c)
azs = ["ap-northeast-2a", "ap-northeast-2c"]


# Harbor (Internal Registry / Cache)
# - VPC 내부망 디폴트: HTTP(80)
# - 필요 시 harbo r_enable_tls=true 로 HTTPS(443, self-signed) 활성화
harbor_hostname        = "harbor.internal"
harbor_enable_tls      = false
harbor_proxy_cache_project = "dockerhub-proxy"

# Databases
# postgres_mode: "self" (EC2) | "rds" (RDS instance) | "aurora" (Aurora PostgreSQL)
postgres_mode = "self"

# Self-managed images (Docker)
postgres_image_tag = "18.1"
neo4j_image_tag    = "5.26.19"

# Optional: override instance types for DB nodes (self-managed)
db_instance_type      = "t3.large"
db_root_volume_gib    = 50

# Optional: pick a subnet tier (default: "db")
db_subnet_tier = "db"

# Optional: allow DB access from additional SGs (in addition to RKE2 nodes SG)
allow_additional_sg_ids = []

# Optional: if you haven't applied 50-rke2 yet, set to false (will allow from VPC CIDR only)
require_rke2_state = true

# Managed Postgres options
rds_instance_class   = "db.t4g.micro"
aurora_instance_class = "db.t4g.medium"

# Database credentials
postgres_db_name     = "app"
postgres_db_username = "app"
# postgres_db_password = "ChangeMe123!" # optional (if omitted, Terraform generates one)
# neo4j_password       = "ChangeMe123!" # optional (if omitted, Terraform generates one)
